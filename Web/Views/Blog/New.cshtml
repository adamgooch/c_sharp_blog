@model Web.Models.PageModels.NewPostPage

@{ ViewBag.Title = "New Post"; }

<h1>@Model.PageHeader</h1>
<div>
    @using( Html.BeginForm( "Create", "Blog", FormMethod.Post ) )
    {
        @Html.HiddenFor( x => x.Post.Author )
        @Html.HiddenFor( x => x.Post.Date )
        <div>@Html.LabelFor( x => x.Post.Title )</div>
        <div>@Html.TextBoxFor( x => x.Post.Title, new { @Required = true }  )</div>
        <div>@Html.LabelFor( x => x.Post.Tags )</div>
        <div>@Html.TextBoxFor( x => x.Post.Tags, new { @Required = true, placeholder = "comma separated list" }  )</div>
        <div>@Html.LabelFor( x => x.Post.Body )</div>
        <div>@Html.TextAreaFor( x => x.Post.Body, new { @Required = true }  )</div>
        <input type="submit" value="submit" />
    }
</div>

@section PageLevelJavascript
{
    @Scripts.Render("~/assets/scripts/tinymce/tinymce.min.js")
    <script type="text/javascript">
        tinymce.init({
            selector: "textarea",
            height: 300,
            plugins: "save",
            toolbar: "save",
            save_enablewhendirty: true,
            save_onsavecallback: function () { console.log("Save"); }
        });
    </script>
}
